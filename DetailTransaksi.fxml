<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="controller.DetailTransaksiController"
      fx:id="mainContainer"
      spacing="15"
      alignment="TOP_CENTER"
      style="-fx-background-color: #FFFFFF;"
      prefWidth="400" prefHeight="600">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="10"
          style="-fx-background-color: #D72638; -fx-padding: 10 20;">
        <Label fx:id="logoLabel"
               text="←"
               style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;
                      -fx-padding: 5 10; -fx-background-color: #8B0000; -fx-background-radius: 5;"
               onMouseClicked="#handleLogoClick"/>
        <Label text="Detail Transaksi"
               style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: bold;"/>
    </HBox>

    <!-- Gambar dan Greeting -->
    <HBox spacing="10" alignment="CENTER_LEFT">
        <ImageView fx:id="imageView" fitHeight="60" fitWidth="60"/>
        <VBox alignment="TOP_LEFT">
            <Label fx:id="greetingLabel"
                   wrapText="true"
                   prefWidth="250"
                   style="-fx-font-size: 14px; -fx-text-fill: black;"/>
        </VBox>
    </HBox>

    <!-- Item Detail Section -->
    <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-border-color: #CCC; -fx-border-width: 1; -fx-padding: 10;">
        <Label text="Item Detail" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="No. Meja:" style="-fx-font-weight: bold;"/>
            <Label fx:id="noMejaLabel"/>
        </HBox>

        <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-font-weight: bold;">
            <Label text="Menu" prefWidth="150"/>
            <Label text="Qty" prefWidth="40"/>
            <Label text="Total/Item" prefWidth="100"/>
        </HBox>

        <VBox fx:id="menuContainer" spacing="5" alignment="CENTER_LEFT"/>
    </VBox>

    <!-- Ringkasan Pembayaran Section -->
    <VBox spacing="5" alignment="CENTER_LEFT" style="-fx-border-color: #CCC; -fx-border-width: 1; -fx-padding: 10;">
        <Label text="Ringkasan Pembayaran" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Total Pembayaran:" style="-fx-font-weight: bold;"/>
            <Label fx:id="totalPembayaranLabel"/>
        </HBox>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="No. Pesanan:" style="-fx-font-weight: bold;"/>
            <Label fx:id="noPesananLabel"/>
        </HBox>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Metode Pembayaran:" style="-fx-font-weight: bold;"/>
            <Label fx:id="metodePembayaranLabel"/>
        </HBox>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Waktu Pesan:" style="-fx-font-weight: bold;"/>
            <Label fx:id="waktuPesanLabel"/>
        </HBox>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Waktu Bayar:" style="-fx-font-weight: bold;"/>
            <Label fx:id="waktuBayarLabel"/>
        </HBox>

        <HBox spacing="5" alignment="CENTER_LEFT">
            <Label text="Status Transaksi:" style="-fx-font-weight: bold;"/>
            <Label fx:id="statusTransaksiLabel" style="-fx-font-weight: bold;"/>
        </HBox>
    </VBox>

    <!-- Tombol Cetak Struk -->
    <Button fx:id="btnCetakStruk" text="Simpan Struk Transaksi" onAction="#handleDownloadClick"
            maxWidth="Infinity"
            style="-fx-background-color: #D72638; -fx-text-fill: white; -fx-font-size: 14px; -fx-pref-height: 28px;"/>
</VBox>